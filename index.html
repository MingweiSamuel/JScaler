<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>JScaler Example Page</title>
<script type="text/javascript" src="jscaler.js"></script>
<script type="text/javascript">
	function thresh() {
		return parseInt(document.getElementById('threshold').value);
	}
	window.onload = function() {
		scaler = JScaler(document.getElementById('image'));
		canvas = document.getElementById('canvas');
	};

	function upload() {
		var file = document.querySelector('input[type=file]').files[0]; //sames as here
		var reader = new FileReader();

		reader.onloadend = function() {
			var img = document.getElementById('image');
			img.onload = function() {
				scaler = JScaler(img);
			};
			img.src = reader.result;
		}

		if (file)
			reader.readAsDataURL(file); //reads the data as a URL
	}
</script>
</head>
<body style="background-color: #ccc;" >
	<img id="image" src="image.png" alt="pixel art" />
	<br />
	Choose Image:
	<input type="file" accept="file/image" onChange="upload();" />
	<br /> Threshold:
	<input id="threshold" type="number" value="0" />
	<hr style="background: #000; border: 0; height: 1px;" />
	<a href="#" onClick="scaler.setThreshold(thresh()).scale('nearest', parseFloat(document.getElementById('nearest').value)).render(canvas).reset(); return false;">Nearest</a>
	<input id="nearest" type="number" step="any" min="0.001" value="2" />
	<br />
	<a href="#" onClick="scaler.setThreshold(thresh()).scale('linear', parseFloat(document.getElementById('linear').value)).render(canvas).reset(); return false;">Linear</a>
	<input id="linear" type="number" step="any" min="0.001" value="2" />
	<br />
	<a href="#" onClick="scaler.setThreshold(thresh()).scale('quadio', parseFloat(document.getElementById('quadio').value)).render(canvas).reset(); return false;">QuadIO</a>
	<input id="quadio" type="number" step="any" min="0.001" value="2" />
	<br />
	<a href="#" onClick="scaler.setThreshold(thresh()).scale('cubic', parseFloat(document.getElementById('cubic').value)).render(canvas).reset(); return false;">Cubic</a>
	<input id="cubic" type="number" step="any" min="0.001" value="2" />
	<hr style="background: #000; border: 0; height: 1px;" />
	<a href="#" onClick="scaler.setThreshold(thresh()).scale('AdvMAME', parseInt(document.getElementById('advmame').value)).render(canvas).reset(); return false;">AdvMAME/Scale</a>
	<select id="advmame">
		<option value="2">2x</option>
		<option value="3">3x</option>
		<option value="4">4x</option>
	</select>
	<br />
	<a href="#" onClick="scaler.setThreshold(thresh()).scale('Eagle', parseInt(document.getElementById('eagle').value)).render(canvas).reset(); return false;">Eagle</a>
	<select id="eagle">
		<option value="2">2x</option>
		<option value="3">3x</option>
		<option value="4">4x</option>
	</select>
	<br />
	<a href="#" onClick="scaler.setThreshold(thresh()).scale('Eagle3xr').render(canvas).reset(); return false;">Eagle (3xr)</a>
	<hr style="background: #000; border: 0; height: 1px;" />
	<canvas id="canvas"></canvas>
</body>
</html>